<!DOCTYPE html>
<html >
<head>
  <meta charset="UTF-8">
  <title>Realtime AngularJS chat with PubNub</title>
  
  
  <link rel='stylesheet prefetch' href='https://cdnjs.cloudflare.com/ajax/libs/materialize/0.97.5/css/materialize.min.css'>
<link rel='stylesheet prefetch' href='https://fonts.googleapis.com/icon?family=Material+Icons'>

      <link rel="stylesheet" href="css/style.css">

  
</head>

<body>
  <body ng-app="app" ng-controller="ChatCtrl">
   <ul class="collection">
     <li class="collection-item avatar" ng-repeat="message in messages">
		
     <img ng-src="{{message.imageUrl}}" alt="{{message.sender_uuid}}" class="circle">
       <span class="title">{{message.name}}</span>&nbsp;&nbsp;&nbsp;&nbsp;<i class="prefix mdi-action-alarm"></i><span class="message-date">{{ message.date | date:"MM/dd/yyyy 'at' h:mma"}}</span>
       <p></br> {{ message.content }}</p>
     </li>
   </ul> 
   <footer class="teal">
     <div  class="container" ng-if="username == ''">
       <div class="row">
         <div class="input-field col s10">
           <!-- <i class="prefix account_box"></i> -->
		    <i class="prefix mdi-action-account-child"></i>
           <input ng-model="userData" type="text" placeholder="Enter Your Name" >
         </div>
         <div class="input-field col s2">
           <button type="button" ng-click="setUserName(userData)" class="waves-effect waves-light btn-floating btn-large">
             <i class="mdi-content-send"></i>
           </button>
         </div>
       </div>
      </div>
	  <form class="container" ng-if="username != ''"> 
       <div class="row">
         <div class="input-field col s10">
           <i class="prefix mdi-communication-chat"></i>
           <input ng-model="messageContent" type="text" placeholder="Type your message" >
           <span class="chip left">
             <!-- <img src="{{avatarUrl(uuid)}}"> -->
            {{username}}
           </span>
         </div>
         <div class="input-field col s2">
           <button type="button" ng-click="sendMessage(messageContent);messageContent=''" class="waves-effect waves-light btn-floating btn-large">
             <i class="mdi-content-send"></i>
           </button>
         </div>
       </div>
      </form>
   </footer>
</body>
  <script src='https://cdnjs.cloudflare.com/ajax/libs/angular.js/1.3.14/angular.min.js'></script>
  <script src='https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js'></script>
<script src='https://cdn.pubnub.com/pubnub-3.7.21.js'></script>
<script src='https://cdn.pubnub.com/sdk/pubnub-angular/pubnub-angular-4.0.2.min.js'></script>
<script src='https://cdnjs.cloudflare.com/ajax/libs/materialize/0.97.5/js/materialize.min.js'></script>

<script src='https://cdnjs.cloudflare.com/ajax/libs/lodash.js/4.2.0/lodash.js'></script>
    <script src="target/ApiAi.js"></script>

    <script  src="js/index.js"></script>

</body>
</html>
